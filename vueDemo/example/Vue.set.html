<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Vue.set 全局操作</title>
	<script type="text/javascript" src="../assets/js/vue.js"></script>
</head>
<body>
	<h1>Vue.set 全局操作</h1>
	<hr>
	<div id="app">
		{{count}}
		<ul>
			<li v-for="item in arr">{{item}}</li>
		</ul>
	</div>
	<p><button onclick="add()">Add</button></p>
	<script type="text/javascript">

		// 再外部改变数据的三种的三种方案
		function add(){
			// Vue.set(outData, 'count',6);  // 用Vue.set的方法改变
			// app.count++;  // 用Vue对象的方法添加
			// outData.count++;  // 直接操作外部数据

			Vue.set(app.arr,1,'fff');  // 再外部检测到
		}

		// 1.在构造器外面声明数据，然后再赋值给构造器
		var outData = {
			count: 1,
			// goods: 'car'

			arr: ['111','222','333']
		}
		var app = new Vue({
			el: '#app',
			data: outData
		});

		// Vue.set存在的意义
		// 由于Javascript的限制，Vue不能自动检测以下变动的数组。
		// *当你利用索引直接设置一个项时，vue不会为我们自动更新。
		// *当你修改数组的长度时，vue不会为我们自动更新。
		// 
		// 这时我们的界面是不会自动跟新数组的，我们需要用Vue.set(app.arr,1,’ddd’)来设置改变，vue才会给我们自动更新，这就是Vue.set存在的意义。
	</script>
</body>
</html>